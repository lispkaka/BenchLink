<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BenchLink æ¥å£æµ‹è¯•å¹³å° - é¡¹ç›®è¯¦æƒ…</title>
    <!-- å¼•å…¥ Element Plus CDN -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background: #f4f6f9; margin: 0; padding: 20px; }
        .container { max-width: 1400px; margin: auto; }
        .header { background: #fff; padding: 16px 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; border-radius: 8px; margin-bottom: 20px; }
        .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 20px; }
        .stat-card { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); text-align: center; }
        .stat-card h3 { margin: 0; font-size: 14px; color: #666; }
        .stat-card .value { font-size: 36px; font-weight: bold; margin: 10px 0; }
        .stat-card.api .value { color: #67C23A; }
        .stat-card.case .value { color: #E6A23C; }
        .stat-card.suite .value { color: #F56C6C; }
        .tabs { margin-bottom: 20px; }
        .chart-container { height: 300px; background: #fff; margin: 20px 0; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); padding: 20px; }
        .activity-log { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .activity-item { padding: 10px 0; border-bottom: 1px solid #eee; }
        .activity-item:last-child { border-bottom: none; }
        .back-btn { cursor: pointer; color: #409EFF; }
    </style>
</head>
<body>
    <div id="app" class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <div>
                <span class="back-btn" @click="goBack">â† è¿”å›</span>
                <h1 style="display: inline; margin-left: 10px;">é¡¹ç›®ï¼š{{ project.name }}</h1>
            </div>
            <el-button type="primary" @click="editProject">ç¼–è¾‘</el-button>
        </div>

        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats">
            <div class="stat-card api">
                <h3>æ¥å£æ•°</h3>
                <div class="value">{{ project.apis }}</div>
            </div>
            <div class="stat-card case">
                <h3>ç”¨ä¾‹æ•°</h3>
                <div class="value">{{ project.cases }}</div>
            </div>
            <div class="stat-card suite">
                <h3>å¥—ä»¶æ•°</h3>
                <div class="value">{{ project.suites }}</div>
            </div>
        </div>

        <!-- æ‰§è¡Œè¶‹åŠ¿å›¾ -->
        <div class="chart-container" ref="chart"></div>

        <!-- Tabs: æ¥å£/ç”¨ä¾‹/å¥—ä»¶åˆ—è¡¨ -->
        <el-tabs v-model="activeTab" class="tabs">
            <el-tab-pane label="ğŸ”— æ¥å£åˆ—è¡¨" name="apis">
                <el-table :data="apis" style="width: 100%">
                    <el-table-column prop="path" label="è·¯å¾„" />
                    <el-table-column prop="method" label="æ–¹æ³•" width="100">
                        <template #default="scope">
                            <el-tag :type="getMethodTag(scope.row.method)">{{ scope.row.method }}</el-tag>
                        </template>
                    </el-table-column>
                    <el-table-column prop="status" label="çŠ¶æ€" width="100">
                        <template #default="scope">
                            <el-tag :type="scope.row.status === 'æ¿€æ´»' ? 'success' : 'danger'">{{ scope.row.status }}</el-tag>
                        </template>
                    </el-table-column>
                    <el-table-column label="æ“ä½œ" width="150">
                        <template #default="scope">
                            <el-button size="small" @click="editApi(scope.row)">ç¼–è¾‘</el-button>
                            <el-button size="small" type="danger" @click="deleteApi(scope.row)">åˆ é™¤</el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-tab-pane>

            <el-tab-pane label="ğŸ“ ç”¨ä¾‹åˆ—è¡¨" name="cases">
                <el-table :data="cases" style="width: 100%">
                    <el-table-column prop="name" label="ç”¨ä¾‹åç§°" />
                    <el-table-column prop="steps" label="æ­¥éª¤æ•°" width="100" />
                    <el-table-column prop="lastRun" label="æœ€åæ‰§è¡Œ" width="150" />
                    <el-table-column prop="result" label="ç»“æœ" width="100">
                        <template #default="scope">
                            <el-tag :type="scope.row.result === 'é€šè¿‡' ? 'success' : 'danger'">{{ scope.row.result }}</el-tag>
                        </template>
                    </el-table-column>
                </el-table>
            </el-tab-pane>

            <el-tab-pane label="ğŸ§© å¥—ä»¶åˆ—è¡¨" name="suites">
                <el-table :data="suites" style="width: 100%">
                    <el-table-column prop="name" label="å¥—ä»¶åç§°" />
                    <el-table-column prop="cases" label="åŒ…å«ç”¨ä¾‹" width="120" />
                    <el-table-column prop="schedule" label="è°ƒåº¦" width="150" />
                    <el-table-column label="æ“ä½œ" width="100">
                        <template #default="scope">
                            <el-button size="small" type="primary" @click="runSuite(scope.row)">æ‰§è¡Œ</el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-tab-pane>
        </el-tabs>

        <!-- æœ€æ–°æ´»åŠ¨æ—¥å¿— -->
        <div class="activity-log">
            <h3>ğŸ•’ æœ€æ–°æ´»åŠ¨</h3>
            <div v-for="log in activities" :key="log.id" class="activity-item">
                <strong>{{ log.time }}</strong> {{ log.user }} {{ log.action }}
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        const { ElButton, ElTable, ElTableColumn, ElTabs, ElTabPane, ElTag } = ElementPlus;

        createApp({
            data() {
                return {
                    activeTab: 'apis',
                    project: { name: 'ç”¨æˆ·ä¸­å¿ƒ', apis: 32, cases: 189, suites: 12, owner: 'å¼ ä¸‰' },
                    apis: [
                        { id: 1, path: '/login', method: 'POST', status: 'æ¿€æ´»' },
                        { id: 2, path: '/logout', method: 'GET', status: 'æ¿€æ´»' },
                        { id: 3, path: '/user/profile', method: 'GET', status: 'æœªæ¿€æ´»' },
                    ],
                    cases: [
                        { id: 1, name: 'ç™»å½•æˆåŠŸ', steps: 5, lastRun: '2025-11-03 14:22', result: 'é€šè¿‡' },
                        { id: 2, name: 'é€€å‡ºéªŒè¯', steps: 3, lastRun: '2025-11-03 12:23', result: 'é€šè¿‡' },
                    ],
                    suites: [
                        { id: 1, name: 'ç™»å½•æµç¨‹', cases: 10, schedule: 'æ¯æ—¥ 02:00' },
                        { id: 2, name: 'æ”¯ä»˜æµç¨‹', cases: 8, schedule: 'æ‰‹åŠ¨' },
                    ],
                    activities: [
                        { id: 1, time: '14:22', user: 'admin', action: 'æ–°å¢æ¥å£ /login' },
                        { id: 2, time: '12:23', user: 'admin', action: 'æ‰§è¡Œå¥—ä»¶ã€Œç™»å½•æµç¨‹ã€' },
                        { id: 3, time: '10:15', user: 'å¼ ä¸‰', action: 'æ›´æ–°ç”¨ä¾‹ã€Œç™»å½•æˆåŠŸã€' },
                    ]
                };
            },
            mounted() {
                this.initChart();
            },
            methods: {
                initChart() {
                    const chart = echarts.init(this.$refs.chart);
                    chart.setOption({
                        title: { text: 'æ‰§è¡Œè¶‹åŠ¿' },
                        tooltip: {},
                        legend: { data: ['æˆåŠŸç‡', 'å¹³å‡å“åº”æ—¶é—´'] },
                        xAxis: { type: 'category', data: ['11-01', '11-02', '11-03'] },
                        yAxis: [{ type: 'value', name: 'æˆåŠŸç‡ (%)' }, { type: 'value', name: 'å“åº”æ—¶é—´ (ms)', position: 'right' }],
                        series: [
                            { name: 'æˆåŠŸç‡', type: 'line', data: [92, 94, 95], smooth: true, itemStyle: { color: '#67C23A' } },
                            { name: 'å¹³å‡å“åº”æ—¶é—´', type: 'line', data: [150, 130, 120], smooth: true, itemStyle: { color: '#409EFF' }, yAxisIndex: 1 }
                        ]
                    });
                },
                getMethodTag(method) {
                    const tags = { GET: 'success', POST: 'warning', PUT: 'primary', DELETE: 'danger' };
                    return tags[method] || 'info';
                },
                goBack() { window.history.back(); },  // è¿”å› Dashboard
                editProject() { alert('ç¼–è¾‘é¡¹ç›®åŠŸèƒ½'); },
                editApi(row) { alert(`ç¼–è¾‘æ¥å£: ${row.path}`); },
                deleteApi(row) { if(confirm('ç¡®è®¤åˆ é™¤ï¼Ÿ')) alert('åˆ é™¤æˆåŠŸ'); },
                runSuite(row) { alert(`æ‰§è¡Œå¥—ä»¶: ${row.name}`); }
            }
        }).use(ElementPlus).mount('#app');
    </script>
</body>
</html>